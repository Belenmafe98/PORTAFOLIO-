<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Raleway:wght@600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="estilos.css">
    <link rel="stylesheet" href="jjs.js">
    <title>Mis proyectos</title>


  </head>
  <body  class="body2 scroll-container" >
    <nav>
      <div class="dropdown">
        <a href="#"
          ><img class="desplegable" src="imagenes/display menu.png" alt=""
        /></a>
        <div class="dropdown-content">
          <a href="index copy 2.html">Inicio</a>
          <a href="#">Proyectos</a>
          <a href="#seccion-Contacto">Contacto</a>
        </div>
      </div>
    </nav>
    <div class="player">
       <audio autoplay loop id="track">
        <source src="imagenes/Reckoner - Radiohead (1080p)_9wCJPm19XYQ.mp3" type="audio/mpeg">
       </audio>
       <div id="player-container">
        <div id="play-pause" class="play">Play</div>
      </div>  
      
    </div>
    <section class="contenedorIntroduccion">
      <div>
        <h1>Proyectos populares</h1>
        <p>
          Os dejo por aquí algunos de los proyectos <br />
          en los que he trabajado durante los últimos años
        </p>
      </div>
    </section>
    <container class="container" id="container">
    </container>
    <div class="lightbox" id="lightbox">
      <img
        src=""
        alt="Imagen ampliada"
        class="lightbox-img"
        id="lightbox-img"
      />
    </div>
    <hr style="width: 100%; border: 1px solid #ffffff62; margin-top: 5rem; margin-bottom: 5rem;">
    <section class="seccionCarrusel">
        <section class="contenedorIntroduccion">
            <div>
              <h1>Video</h1>
              <p>
                Os dejo por aquí algún que otro video de estos últimos años
              </p>
            </div>
          </section>

     
        <div class="carrusel-container">
          <button
            class="boton-carrusel boton-izquierda"
            onclick="cambiarSlide(-1)"
          >
          <!-- <style>
            .material-symbols-outlined {
              font-variation-settings:
              'FILL' 0,
              'wght' 400,
              'GRAD' 0,
              'opsz' 24
            }
            </style> -->
            <i class="fa-solid fa-chevron-left fa-2xl" style="color: #ffffff;"></i>
          </button>
          <div class="carrusel-slide active">
            <video controls autoplay loop>
                <source src="imagenes/00018.mp4"></video>
          </div>
          <div class="carrusel-slide">
            <video controls autoplay loop>
                <source src="imagenes/video 2.mp4"></video>
          </div>
          <div class="carrusel-slide">
            <img src="imagenes/YO TIEMPOCUADERNO.gif" alt="Slide 3" />
          </div>
          <div class="carrusel-slide">
            <video controls autoplay loop>
                <source src="imagenes/video 4.mp4"></video>
          </div>
          <button
            class="boton-carrusel boton-derecha"
            onclick="cambiarSlide(1)"
          >
          <i class="fa-solid fa-chevron-right fa-2xl" style="color: #ffffff;"></i>
     
            
      </div>
    
    </section>
    <hr style="width: 100%; border: 1px  solid #ffffff62; margin-top: 5rem; margin-bottom: 5rem;">
    <section class="contenedorIntroduccion" id="seccion-Contacto">
        <div>
          <h1>Contacto</h1>
          <p>
           Aquí podéis dejar vuestros datos para contactar! <br />
            
          </p>
        </div>
      </section>
    <footer>
        <section class="contacto">
            <form id="contactForm">
                <label for="name">Nombre:</label>
                <input type="text" id="name" name="name" required />
          
                <label for="email">Correo electrónico:</label>
                <input type="email" id="email" name="email" required />
          
                <label for="message">Mensaje:</label>
                <textarea id="message" name="message" required></textarea>
          
                <div class="checkbox-label">
                  <input type="checkbox" id="subscribe" name="subscribe" />
                  <label for="subscribe" style="cursor: pointer"
                    >Quiero que me lleguen promociones!</label
                  >
                </div>
          
                <button class="boton-form" type="submit">Enviar Mensaje</button>
              </form>
        </section>
        
        <section class="redes-sociales">
            <div class="contenedor">
                
                <a href="https://github.com/Belenmafe98?tab=repositories" class="github"><i class="fa-brands fa-github" style="color: #ffffff;"></i>
                <a href="https://www.instagram.com/belen_mafe?igsh=NDkweTk3eW0ydTlk" class="instagram"><i class="fa-brands fa-instagram" style="color: #ffffff;"></i>
            </div>
        </section>

    </footer>
    <script>
      //JAVASCRIPT
      
      document.addEventListener("DOMContentLoaded", async function () {
        const container = document.querySelector(".container");
        const lightbox = document.getElementById("lightbox");
        const lightboxImg = document.getElementById("lightbox-img");
        const slideContainer = document.querySelector(".carrusel-container");
        const slides = document.querySelectorAll(".carrusel-slide");
        const tarjetas = document.querySelectorAll(".tarjeta");
        const track = document.getElementById('track');
        const controlBtn = document.getElementById('play-pause');

        
        async function cargarDatosDesdeJSON() {
          try {
           
            const response = await fetch('proyectos.json');
            const tarjetaProyectos = await response.json();

            
            let tarjetaProyectoHTML = "";
            tarjetaProyectos.forEach((tp) => {
              tarjetaProyectoHTML += `<div class="tarjeta">
                <div class="seccion-superior">
                  <img class="imagenTarjetas" src="${tp.imagen}" alt="imagen proyecto" />
                </div>
                <div class="seccion-inferior">
                  <div class="texto-proyecto">
                    <h2>${tp.titulo}</h2>
                    <p>${tp.descripcion}</p>
                  </div>
                </div>
              </div>`;
            });

            
            container.innerHTML = tarjetaProyectoHTML;

           
            tarjetas.forEach((tarjeta) => {
              tarjeta.addEventListener("click", () => {
                const imagenSrc = tarjeta.querySelector(".imagenTarjetas").src;
                lightboxImg.src = imagenSrc;
                lightbox.style.display = "flex";
              });
            });
          } catch (error) {
            console.error("Error al cargar datos desde JSON:", error);
          }
        }

        
        await cargarDatosDesdeJSON();

        
        let slideIndex = 1;

        function mostrarSlide(n) {
          if (n > slides.length) {
            slideIndex = 1;
          }

          if (n < 1) {
            slideIndex = slides.length;
          }

          for (let i = 0; i < slides.length; i++) {
            slides[i].classList.remove("active");
          }

          slides[slideIndex - 1].classList.add("active");
        }

        function cambiarSlide(n) {
          mostrarSlide((slideIndex += n));
        }

      
        setInterval(() => cambiarSlide(1), 9000);

        document.querySelector(".boton-izquierda").addEventListener("click", () => {
          cambiarSlide(-1);
        });

        document.querySelector(".boton-derecha").addEventListener("click", () => {
          cambiarSlide(1);
        });

        track.play();

        function playPause() {
          if (track.paused) {
            track.play();
            controlBtn.className = "pause";
          } else { 
            track.pause();
            controlBtn.className = "play";
          }
        }

        controlBtn.addEventListener("click", playPause);

        track.addEventListener("ended", function() {
          controlBtn.className = "play";
        });

        document.getElementById("contactForm").addEventListener("submit", function (event) {
          event.preventDefault();
          alert("Formulario enviado. Lógica de envío por AJAX aquí.");
        });

      });
    </script>
  </body>
</html>
